{% extends 'layout.html' %} {% block title %} tracker {% endblock %} {% block
content %}


    <div class="grid grid-cols-2 gap-4">
    {% for key in keylist %}
        <div id="trackercard" class="m-5 bg-emerald-100 rounded-lg">
            <div class="m-3 flex justify-between">
                <div>
                    <div class="text-xl"><h2 id="key">{{ key.name }}</h2></div>
                    <div class="ml-3 text-xs">{{ key.item }}</div>
                </div>
                <div>
                    <button onclick="fillAndShowForm('trackerForm','{{ key.name }}', ' {{ key.item }} ', ' {{key.rate}} ', 'edit' )">Edit</button> <!-- to be created -->
                    <button onclick="fillAndSubmitForm('trackerForm','{{ key.name }}', ' {{ key.item }} ', ' {{key.rate}} ', 'delete')">Delete</button> <!-- to be created -->
                </div>
            </div>
            <span id="timer-{{ key.name }}" class="ml-5">00:00:00</span>
            <script>
            if ("{{ key.session_start }}" !== "None") {
                startTimer("{{ key.session_start }}", "timer-{{ key.name }}");
            }
            </script>
            <button onclick="fillAndSubmitForm('trackerForm','{{ key.name }}', ' {{ key.item }} ', ' {{key.rate}} ', 'start')"> Start </button>
        </div>
    {% endfor %}
    </div>
    <div id="edit actions" onclick="fillAndShowForm('trackerForm',' ', ' ', ' ', 'create' )">
        <button> Create New Tracker </button>
    </div>
    <div id="redirect to report">
        <form method="POST" action="/tracker_report">
            <button type="submit">Report</button>
        </form>
    </div>
    <form method="POST" id="trackerForm" style="display: none;">
        {{ form.csrf }}
        <div>{{ form.name.label }} {{ form.name(id='nameField', value='None') }}</div>
        <div> {{ form.item.label }} {{ form.item(id='itemField', value='None') }}</div>
        <div>{{ form.rate.label }} {{ form.rate(id='rateField', value='None') }}</div>
        <div>{{ form.action(id='actionField', value='None', style='display: none;') }}</div>
        <div>{{ form.old_name(id='oldnameField', value='None', style='display: none;') }}</div>
        <div>{{ form.old_item(id='olditemField', value='None', style='display: none;') }}</div>
        <div><button type="submit">Submit</button></div>
    </form>
{% endblock %}